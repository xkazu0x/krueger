#ifndef KRUEGER_RANDOM_H
#define KRUEGER_RANDOM_H

#define MIN_RANDOM_NUMBER 0x0038f03
#define MAX_RANDOM_NUMBER 0x5e40a1f

global u32 random_number_table[] = {
  0x3cb0713, 0x0d40f96,	0x1c69378, 0x203a45e, 0x00fd5d0, 0x3b67b56, 0x4e1db9c, 0x2b531fd,
  0x45bdadd, 0x0a03b53,	0x3becc19, 0x4f2567a, 0x3647496, 0x2c4a1c7,	0x43f5c22, 0x47b6538,
  0x5c2d317, 0x36b6c9c,	0x2391f7c, 0x2f55aff, 0x0ca556d, 0x3ed0c48,	0x3b7ca43, 0x221a4ea,
  0x52c687d, 0x4db9e51,	0x2e71e6b, 0x52fb6cf, 0x16c0022, 0x28cf7ad,	0x2f714a7, 0x16122ba,
  0x12e48b2, 0x3ef156e,	0x05f801e, 0x0610a83, 0x32cf2cf, 0x53bef8d,	0x25e3f7b, 0x0b377df,
  0x40d315b, 0x113e97c,	0x4db8c7e, 0x2d1b06b, 0x2747f41, 0x4f760b2,	0x5b247e6, 0x49ff5cf,
  0x0b8d0a6, 0x12ed557,	0x5cb7639, 0x1c01b44, 0x4d930c4, 0x48a312e,	0x5409db4, 0x1da8ffc,
  0x07aae5e, 0x487d253,	0x5c6497f, 0x1d34964, 0x3379cf1, 0x515b2c2,	0x2e1a18b, 0x2ec3a0c,
  0x19a19a2, 0x5462e83,	0x1d2c76a, 0x10d25a3, 0x35b1b9c, 0x58b706b,	0x1ebfee9, 0x450f93a,
  0x0afa383, 0x3dd2aac,	0x5a0c0c5, 0x500eefd, 0x5a07106, 0x47a9f70,	0x38880fe, 0x52e5e62,
  0x4317761, 0x3e476cf,	0x2588076, 0x205bccd, 0x231401f, 0x51e206e,	0x04b45f4, 0x411cb6e,
  0x5ddc653, 0x177eb34,	0x0b3f9e2, 0x0f347e6, 0x0908f2f, 0x4db22c9,	0x34aac13, 0x19cd8e2,
  0x23f4234, 0x1d4085c,	0x4eeff41, 0x403413e, 0x523b3c6, 0x1909fdd,	0x0d7c136, 0x2ae6454,
  0x2b36413, 0x0f3cda0,	0x2c853b5, 0x0aee2aa, 0x4ed315e, 0x4474163,	0x277e6f8, 0x372b697,
  0x0863e39, 0x316581d,	0x2ccb6d2, 0x1ebab71, 0x11fc3d1, 0x17fbfb2,	0x1251a88, 0x3de5eeb,
  0x1da359d, 0x22c2aec,	0x40d202b, 0x3157e8b, 0x2fe45ce, 0x39c1c7b,	0x5351e76, 0x4bfe1f7,
  0x5692ad0, 0x33e3ee5,	0x2066443, 0x0ea4616, 0x09b80e7, 0x18c58bb,	0x13f10cc, 0x553e2f4,
  0x5648a88, 0x30066ee,	0x489904d, 0x58c5543, 0x26bfe8f, 0x4100f08,	0x3dea622, 0x490402d,
  0x288e001, 0x0fe57ec,	0x01860e5, 0x5d51838, 0x4be938b, 0x03161ad,	0x345ec99, 0x5e40a1f,
  0x2776362, 0x24ddcca,	0x39dc747, 0x3526d12, 0x0cb0130, 0x44d1e91,	0x2b247a1, 0x359b84c,
  0x1bb01a3, 0x37e2e36,	0x1bbcd1e, 0x1338106, 0x1b6c5ae, 0x55916f8,	0x0385b32, 0x139c544,
  0x0956eea, 0x3c0f92b,	0x462f3e8, 0x518656c, 0x0cd8eca, 0x279e04d,	0x59fa9df, 0x2d350eb,
  0x5c429bb, 0x273207c,	0x205d932, 0x255b790, 0x05e534c, 0x3452917,	0x4f84175, 0x0053402,
  0x505d87f, 0x58787d0,	0x411bdaa, 0x031dbff, 0x594e059, 0x2843886,	0x37ff7ad, 0x3d0cb1a,
  0x1ef0e96, 0x1520449,	0x4485a5a, 0x44fe1b3, 0x24e8196, 0x4f694d6,	0x1a0b5e8, 0x1d40c25,
  0x5655260, 0x116370f,	0x4fc7a2b, 0x13afb1b, 0x33d6c03, 0x0ac0e54,	0x4c16cdb, 0x453e356,
  0x0710e94, 0x2244cdb,	0x54902bd, 0x0121e1a, 0x43ed84c, 0x0fa6f07,	0x0dca0e4, 0x32eaf8b,
  0x103e11d, 0x4114083,	0x00f56bb, 0x0cf3d20, 0x569c2a5, 0x59bf83c,	0x27fdf13, 0x3a11ee2,
  0x575f3b3, 0x2ca0d3f,	0x5837211, 0x44ee332, 0x5b6a0b2, 0x314c703,	0x0051378, 0x0038f03,
  0x19d9462, 0x48e245d,	0x4847e5f, 0x0b9be70, 0x5bbee81, 0x44ac59e,	0x0b43c19, 0x388d43f,
  0x25c9235, 0x1913623,	0x0f6ce41, 0x240214d, 0x4ff6350, 0x2bc9525,	0x36c756b, 0x1e02173,
  0x3dfbcd7, 0x4e28eb7,	0x204110c, 0x0e40fd1, 0x5d2ac96, 0x221a729,	0x43accc4, 0x26d7f72,
};

typedef struct {
  u32 index;
} Random_Series;

internal Random_Series
random_seed(u32 value) {
  Random_Series result = {0};
  result.index = value % array_count(random_number_table);
  return(result);
}

internal u32
random_next(Random_Series *series) {
  u32 result = random_number_table[series->index++];
  if (series->index >= array_count(random_number_table)) {
    series->index = 0;
  }
  return(result);
}

// NOTE: Return a number between [0] and [choice_count]
internal u32
random_choice(Random_Series *series, u32 choice_count) {
  u32 result = random_next(series) % choice_count;
  return(result);
}

// NOTE: Return a number between [0.0] and [1.0]
internal f32
random_unilateral(Random_Series *series) {
  f32 divisor = 1.0f/(f32)MAX_RANDOM_NUMBER;
  f32 result = divisor*(f32)random_next(series);
  return(result);
}

// NOTE: Return a number between [-1.0] and [1.0]
internal f32
random_bilateral(Random_Series *series) {
  f32 result = 2.0f*random_unilateral(series) - 1.0f;
  return(result);
}

internal f32
random_range(Random_Series *series, f32 min, f32 max) {
  f32 result = lerp_f32(min, max, random_unilateral(series));
  return(result);
}

#endif // KRUEGER_RANDOM_H
